<div class="overlay" ng-show="$ctrl.loading">
    loading...
</div>

<div class="overlay" ng-show="$ctrl.mode == 'order' && $ctrl.cycle.did_order">
    You already placed an order this cycle.
</div>

<div>
    <div class="inventory-toolbar">
        <div ng-switch="$ctrl.InventoryService.mode" class="no-animate">
            <div ng-switch-default class="no-animate">


                <div class="row-fluid top">
                    <div  style="margin-bottom: 15px;" class="row">
                        <div class="col-md-9">
                            <div class="well light">

                                {{$ctrl.CycleService.remainingTime.toString()}}


                            </div>

                        </div>
                        <div class="col-md-3">
                            <div class="btn-group btn-group-justified" role="group" aria-label="...">
                                <div class="btn-group" role="group">
                                    <button type="button" class="btn btn-danger fat-btn" ng-click="$ctrl.handleReset();">Reset</button>
                                </div>
                                <div class="btn-group" role="group">
                                    <button type="button" class="btn btn-success fat-btn" ng-click="$ctrl.handleCommit()">Commit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row inv-balance-info">
                        <div class="col-md-3">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <h3>Total Budget</h3>
                                    <h3 class="text-right">
                                        <span class="label label-primary">
                                            {{$ctrl.CycleService.current_cycle.budget | currency:"$"}}
                                        </span>
                                    </h3>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <h3>Available Balance</h3>
                                    <h3 class="text-right">
                                        <span class="label label-primary">
                                            {{$ctrl.CycleService.current_cycle.balance | currency:"$"}}
                                        </span>
                                    </h3>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <h3>Order Total</h3>
                                    <h3 class="text-right">
                                        <span class="label label-primary">
                                            {{($ctrl.orderTotal || 0) | currency:"$"}}
                                        </span>
                                    </h3>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <h3>New Balance</h3>
                                    <h3 class="text-right">
                                        <span class="label label-primary">
                                            {{$ctrl.CycleService.current_cycle.balance - $ctrl.orderTotal | currency:"$"}}
                                        </span>
                                    </h3>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row-fluid bottom">
                    <form class="form-inline">
                        <div class="form-group">
                            <label for="exampleInputName2" class="hidden-xs">
                        <span class="fa"
                              ng-class="{'fa-caret-up' : $ctrl.sort === 'name ASC', 'fa-caret-down' : $ctrl.sort === 'name DESC'}"></span>
                                <span class="inventory-toggle-sort" ng-click="$ctrl.toggleSort('name')">Name</span>
                            </label>
                            <input placeholder="Name" type="text" class="form-control input-sm"
                                   ng-model="$ctrl.filter.name"
                                   ng-change="$ctrl.handleFilterChange()"
                                   ng-model-options="{ allowInvalid: true, debounce: 200 }">
                            <span class="fa fa-remove generic-remove-btn" ng-show="$ctrl.filter.name"
                                  ng-click="$ctrl.clearFilterItem('name')">&nbsp;</span>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputName2" class="hidden-xs">
                        <span class="fa"
                              ng-class="{'fa-caret-up' : $ctrl.sort === 'category_id ASC', 'fa-caret-down' : $ctrl.sort === 'category_id DESC'}"></span>
                                <span class="inventory-toggle-sort"
                                      ng-click="$ctrl.toggleSort('category_id')">Category</span>
                            </label>
                            <select ng-change="$ctrl.handleFilterChange()"
                                    ng-model-options="{ allowInvalid: true, debounce: 200 }"
                                    class="form-control input-sm"
                                    ng-options="category.category_id as category.name for category in $ctrl.categories"
                                    ng-model="$ctrl.filter.category_id">
                                <option>asdf</option>
                            </select>

                            <span class="fa fa-remove generic-remove-btn" ng-show="$ctrl.filter.category_id"
                                  ng-click="$ctrl.clearFilterItem('category_id')">&nbsp;</span>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputName2" class="hidden-xs">
                        <span class="fa"
                              ng-class="{'fa-caret-up' : $ctrl.sort === 'quantity ASC', 'fa-caret-down' : $ctrl.sort === 'quantity DESC'}"></span>
                                <span class="inventory-toggle-sort"
                                      ng-click="$ctrl.toggleSort('quantity')">Quantity</span>
                            </label>
                            <!--<select  class="form-control input-sm" ng-model="$ctrl.filter.quantityMod">
                                <option >==</option>
                                <option >&gt;</option>
                                <option >&lt;</option>

                            </select>-->
                            <input style="width:100px;" ng-model="$ctrl.filter.quantity" type="number"
                                   class="form-control input-sm" id="exampleInputName2" placeholder="0"
                                   ng-change="$ctrl.handleFilterChange()"
                                   ng-model-options="{ allowInvalid: true, debounce: 200 }">
                            <span class="fa fa-remove generic-remove-btn " ng-show="$ctrl.filter.quantity"
                                  ng-click="$ctrl.clearFilterItem('quantity')">&nbsp;</span>
                        </div>
                    </form>
                </div>

            </div>


            <div ng-switch-when="report" class="no-animate">
                <!--<div class="row-fluid top">
                    <div class="pull-right well-sm">
                        {{$ctrl.CycleService.remainingTime.toString()}}
                    </div>
                    <div class="pull-right well-sm">
                        Balance: {{$ctrl.orderTotal}}
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="row-fluid middle">
                    <div style="background-color: #7e678c" class="text-center">
                        <h1 class="no-margin">&lt;- Cycle: 6 -&gt;</h1>
                    </div>
                </div>
                <div class="row-fluid bottom">
                    &lt;!&ndash; <form class="form-inline" ng-show="showFilter">
                         <div class="form-group">
                             <label for="exampleInputName2" class="hidden-xs">
                         <span class="fa"
                               ng-class="{'fa-caret-up' : $ctrl.sort === 'name ASC', 'fa-caret-down' : $ctrl.sort === 'name DESC'}"></span>
                                 <span class="inventory-toggle-sort" ng-click="$ctrl.toggleSort('name')">Name</span>
                             </label>
                             <input placeholder="Name" type="text" class="form-control input-sm" ng-model="$ctrl.filter.name"
                                    ng-change="$ctrl.handleFilterChange()"
                                    ng-model-options="{ allowInvalid: true, debounce: 200 }">
                             <span class="fa fa-remove generic-remove-btn" ng-show="$ctrl.filter.name"
                                   ng-click="$ctrl.clearFilterItem('name')">&nbsp;</span>
                         </div>
                         <div class="form-group">
                             <label for="exampleInputName2" class="hidden-xs">
                         <span class="fa"
                               ng-class="{'fa-caret-up' : $ctrl.sort === 'category_id ASC', 'fa-caret-down' : $ctrl.sort === 'category_id DESC'}"></span>
                                 <span class="inventory-toggle-sort" ng-click="$ctrl.toggleSort('category_id')">Category</span>
                             </label>
                             <select ng-change="$ctrl.handleFilterChange()"
                                     ng-model-options="{ allowInvalid: true, debounce: 200 }"
                                     class="form-control input-sm"
                                     ng-options="category.category_id as category.name for category in $ctrl.categories"
                                     ng-model="$ctrl.filter.category_id">
                                 <option>asdf</option>
                             </select>

                             <span class="fa fa-remove generic-remove-btn" ng-show="$ctrl.filter.category_id"
                                   ng-click="$ctrl.clearFilterItem('category_id')">&nbsp;</span>
                         </div>
                         <div class="form-group">
                             <label for="exampleInputName2" class="hidden-xs">
                         <span class="fa"
                               ng-class="{'fa-caret-up' : $ctrl.sort === 'quantity ASC', 'fa-caret-down' : $ctrl.sort === 'quantity DESC'}"></span>
                                 <span class="inventory-toggle-sort" ng-click="$ctrl.toggleSort('quantity')">Quantity</span>
                             </label>
                             &lt;!&ndash;<select  class="form-control input-sm" ng-model="$ctrl.filter.quantityMod">
                                 <option >==</option>
                                 <option >&gt;</option>
                                 <option >&lt;</option>

                             </select>&ndash;&gt;
                             <input style="width:100px;" ng-model="$ctrl.filter.quantity" type="number"
                                    class="form-control input-sm" id="exampleInputName2" placeholder="0"
                                    ng-change="$ctrl.handleFilterChange()"
                                    ng-model-options="{ allowInvalid: true, debounce: 200 }">
                             <span class="fa fa-remove generic-remove-btn " ng-show="$ctrl.filter.quantity"
                                   ng-click="$ctrl.clearFilterItem('quantity')">&nbsp;</span>
                         </div>
                     </form>&ndash;&gt;
                </div>-->
            </div>
        </div>
    </div>
    <div class="inventory-table-wrapper" ui-view="inventory"></div>
</div>


